sap.ui.define(["sap/ui/demo/iconexplorer/controller/App.controller","sap/ui/core/Control","sap/ui/core/mvc/Controller"],function(t,e,o){"use strict";QUnit.module("App controller tests",{beforeEach:function(){this.oViewStub=new e;this.oComponentStub=new e;this.fnMetadataThen=function(){};this.oComponentStub.iconsLoaded=function(){return{then:this.fnMetadataThen}}.bind(this);this.oComponentStub.getContentDensityClass=function(){return"sapUiSizeCompact"};this.oComponentStub.getCookiesManagement=function(){return{enable:function(){return true}}};this.oComponentStub.getRootControl=function(){return true};sinon.config.useFakeTimers=false;sinon.stub(o.prototype,"getOwnerComponent").returns(this.oComponentStub);sinon.stub(o.prototype,"getView").returns(this.oViewStub)},afterEach:function(){o.prototype.getOwnerComponent.restore();o.prototype.getView.restore();this.oViewStub.destroy();this.oComponentStub.destroy()}});QUnit.test("Should set the app view busy without delay",function(e){var o,n;n=new t;n.onInit();o=this.oViewStub.getModel("view").getData();e.strictEqual(o.delay,0,"The root view has no busy indicator delay set.");e.strictEqual(o.busy,true,"The root view is busy.")});QUnit.test("Should set the app view not busy and reset the delay",function(e){var o,n;this.fnMetadataThen=function(t){t();o=this.oViewStub.getModel("view").getData();e.strictEqual(o.delay,this.oViewStub.getBusyIndicatorDelay(),"The root view has the default busy indicator delay set.");e.strictEqual(o.busy,false,"The root view is not busy.")}.bind(this);n=new t;n.onInit()})});