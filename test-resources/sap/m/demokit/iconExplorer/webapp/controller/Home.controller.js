sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/demo/iconexplorer/model/formatter","sap/ui/demo/iconexplorer/controller/BaseController","sap/ui/core/Icon","sap/ui/Device"],function(e,t,n,o,i){"use strict";return n.extend("sap.ui.demo.iconexplorer.controller.Home",{formatter:t,onInit:function(){var t=new e({sapui5:sap.ui.versioninfo.libraries.some(function(e){return e.name==="sap.ushell"}),searchBackground:"image/"+(i.system.desktop?"IcoExp_M_and_L.jpg":"IcoExp_S.jpg"),imagePath:"image/"+"logo_sap.png"});this.setModel(t,"view");var n=this.byId("search");n.setFilterFunction(function(e,t){var n=t.getBindingContext().getObject();return!!(n.name.indexOf(e)>=0||n.tagString.indexOf(e)>=0)});n.setValueHelpIconSrc("sap-icon://search");n.addEventDelegate({ontap:function(e){if(this.getValue().length>=this.getStartSuggestion()){this._oSuggestionPopup.open()}}.bind(n)})},onSuggestionSelect:function(e){var t=e.getSource().getValue(),n=e.getParameter("selectedRow").getBindingContext().getObject();this.getRouter().navTo("overview",{fontName:n.font,query:{search:t,icon:n.name}})},onEnter:function(e){var t=e.getSource(),n=e.getSource().getSuggestionRows().filter(function(e){return e.getVisible()}),o;if(t.getValue().length>=t.getStartSuggestion()&&n.length){o=n[0].getBindingContext().getObject();this.getRouter().navTo("overview",{fontName:o.font,query:{icon:o.name}})}},onTitleLinkPress:function(e){var t=e.getSource().getCustomData().length&&e.getSource().getCustomData()[0].getValue();this.getRouter().navTo("overview",{fontName:t})}})});