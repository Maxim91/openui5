<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loio491bd9c70b9f4c4d913c8c7b4a970833" class=" section topic"><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Legacy Factories Replacement</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Legacy Factories Replacement</h2></div><div class="shortdesc">Overview of the replacement of global functions with the factory
		functions</div><p>The AMD module syntax already avoids Globals and enforces the strict dependency
			declaration. The following table shows how APIs which use synchronous requests to fetch
			modules or resources internally, can be replaced with asynchronous alternatives. The W3C
			has already deprecated the use of synchronous requests in the browser main thread, so
			this replacement prepares your applications for the removal of synchronous requests.</p><p>The OpenUI5 framework by default
			uses synchronous requests internally in several places. Most have already been replaced
			by asynchronous alternatives, or prepared to exchange the synchronous behaviour shown
			below. The asynchronous adoption starts from the beginning with the bootstrap script
			tag, where the <code>async</code> configuration parameter should be set to
				<code>true</code>. Applications can register an event callback via <a href="#/api/sap.ui.core.Core/methods/attachInit" title="#/api/sap.ui.core.Core/methods/attachInit" class="sap-doc" alt="#/api/sap.ui.core.Core/methods/attachInit"><code>sap.ui.getCore()#attachInit</code></a>.
				. The examples
			below show only the most frequently used synchronous APIs. There are more of these APIs,
			and most often the asynchronous alternatives return a <code>Promise</code> that can
			be used to retrieve the former return value.</p><div class="tableWrapper "><div class="fig"><table border="1" id="simpletable_bpv_cnv_cfb" class=" "><colgroup><col width="1"><col width="1"></colgroup>
				
				
				<thead>
					<tr>
						<th colspan="1" rowspan="1">
							<p>Legacy, synchronous API</p>
						</th>
						<th colspan="1" rowspan="1">
							<p>Modern API</p>
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td colspan="2" rowspan="1">
							<p>Declarative App Description</p>
						</td>
					</tr>
					<tr>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.component({

    name: "my.comp"

});
</pre></div></div></section>
						</td>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.require(['sap/ui/core/Component'], function(Component){

    Component.create({

        name: "my.comp"

        // default: manifest: true

    }).then(function(oComp) { ... });
});</pre></div></div></section>
						</td>
					</tr>
					<tr>
						<td colspan="2" rowspan="1">
							<p>Components - Some API still experimental</p>
						</td>
					</tr>
					<tr>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">var oComponentInstance = sap.ui.component({

    name: "my.comp"

});
</pre></div></div></section>
						</td>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.require(['sap/ui/core/Component'], function(Component){

    Component.create({

        name: "my.comp"

    }).then(function(oComp) { ... });
});</pre></div></div></section>
							<p>Alternatively, migrate to <code>componentUsages</code> with an
								additional adaption in the <code>manifest.json</code> file:</p>
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">createContent: function() {

   var oReuseComponentPromise = this.createComponent({

    "usage": "reuse"

  }).then(function(oComp) { ... });

}
</pre></div></div></section>
						</td>
					</tr>
					<tr>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">var oComponentClass = sap.ui.component.load({

    name: "my.comp"

});
</pre></div></div></section>
						</td>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.require(['sap/ui/core/Component'], function(Component){

    Component.load({

        name: "my.comp"

    }).then(function(oClass) {

        var oComponentInstance = new oClass({...});

    });

});
</pre></div></div></section>
						</td>
					</tr>
					<tr>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">var oComponentInstance = sap.ui.component("my-comp-id");</pre></div></div></section>
						</td>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.require(['sap/ui/core/Component'], function(Component){

 

    var oComponentInstance = Component.get("my-comp-id");

});
</pre></div></div></section>
						</td>
					</tr>
					<tr>
						<td colspan="2" rowspan="1">
							<p>i18n texts</p>
						</td>
					</tr>
					<tr>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">jQuery.sap.resources({

    url: "mybundle.properties"

});
</pre></div></div></section>
						</td>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">// sap/ui/Resources -&gt; sap/base/i18n/ResourceBundle

sap.ui.require(['sap/base/i18n/ResourceBundle'], function(Resource){

    ResourceBundle.create({

        url: "mybundle.properties",
	   async: true

    }).then(function(oResource) { ... });
});</pre></div></div></section>
						</td>
					</tr>
					<tr>
						<td colspan="2" rowspan="1">
							<p>Views</p>
						</td>
					</tr>
					<tr>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">var oView = sap.ui.view({

    viewName: "my.View",

    type: "XML"

});
</pre></div></div></section>
						</td>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.require(['sap/ui/core/mvc/View'], function(View){

    View.create({ 

        viewName: "my.View",

        type: "XML"

    }).then(function(oView) { ... });
});</pre></div></div></section>
						</td>
					</tr>
					<tr>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">var oView = sap.ui.xmlview({

    viewName: "my.View"

});
</pre></div></div></section>
						</td>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.require(['sap/ui/core/mvc/XMLView'], function(XMLView){

    XMLView.create({ 

        viewName: "my.View"

    }).then(function(oView) { ... });
});</pre></div></div></section>
						</td>
					</tr>
					<tr>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">var oView = sap.ui.jsview({
								
    viewName: "my.View"
								
});
</pre></div></div></section>
						</td>
						<td colspan="1" rowspan="1">
							<p>For defining views, use <code>View.extend</code>. For loading and creating a view instance, use <code>View.create</code>.</p>
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.define(['sap/ui/core/mvc/View', 'sap/m/Panel'], function(View, Panel){
								
    return View.extend("my.View", {

		// define, which controller to use
		getControllerName: function() {
			return "my.Controller";
		},

		// whether the ID of content controls should be prefixed automatically with the view ID
		getAutoPrefixId: function() {
			return true; // default is false
		},

		// create view content and return the root control(s)
		createContent: function() {
			return new Promise(function(res, rej) {
				res(new Panel({...}));
			}).catch(function(oError) {
				throw oError;
			});
    	}
								
    });
});
</pre></div></div></section>
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.require(['sap/ui/core/mvc/View'], function(View){
								
    View.create({ 
						
        viewName: "my.View"
								
    }).then(function(oView) { ... });
});</pre></div></div></section>
						</td>
					</tr>
					<tr>
						<td colspan="2" rowspan="1">
							<p>Controllers</p>
						</td>
					</tr>
					<tr>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">var oController = sap.ui.controller({ ... });</pre></div></div></section>
						</td>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.require(['sap/ui/core/mvc/Controller'], function(Controller){

    Controller.create({ 

        ...

    }).then(function(oController) { ... });
});</pre></div></div></section>
						</td>
					</tr>
					<tr>
						<td colspan="2" rowspan="1">
							<p>Extension Points</p>
						</td>
					</tr>
					<tr>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">var aControls = sap.ui.extensionpoint( ... );</pre></div></div></section>
						</td>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.require(['sap/ui/core/ExtensionPoint'], function(ExtensionPoint){

    ExtensionPoint.load({ 

        ...

    }).then(function(aControls) { ... });
});</pre></div></div></section>
						</td>
					</tr>
					<tr>
						<td colspan="2" rowspan="1">
							<p>Fragments</p>
						</td>
					</tr>
					<tr>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">var aControls = sap.ui.fragment({ 

    name: "my.fragment",

    type: "XML"

});
</pre></div></div></section>
						</td>
						<td colspan="1" rowspan="1">
							<p>If you're instantiating your fragment in a controller which extends <code>sap.ui.core.mvc.Controller</code>, you
								can use the <code>loadFragment</code> function:</p>
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.define(['sap/ui/core/mvc/Controller'], function(Controller){

    return Controller.extend("my.MyController", {

        onInit: function(){
            this.loadFragment({
                name: "my.fragment"
            }).then(function(aControls) { ... });
        }
        
    });
});</pre></div></div></section>
							<p>If you're instantiating your fragment outside a controller, you can use the static <code>Fragment.load</code>
								function:</p>
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.require(['sap/ui/core/Fragment'], function(Fragment){

    Fragment.load({

        name: "my.fragment",

        type: "XML"

    }).then(function(aControls) { ... });
});</pre></div></div></section>
							<div class="note caution  "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Caution
				</strong></div></div><div class="fig"><p>
								</p><p>Please make sure that you are correctly chaining to the <code>loadFragment</code> or
										<code>Fragment.load</code> Promise!</p>
								<p>Calling <code>sap.ui.getCore().byId("...")</code> or <code>oController.byId("...")</code> will result in
										<code>undefined</code> if called before the <code>loadFragment</code> or
										<code>Fragment.load</code> Promise is resolved.</p>
							<p></p></div></div>
						</td>
					</tr>
					<tr>
						<td colspan="2" rowspan="1">
							<p>Version Info</p>
						</td>
					</tr>
					<tr>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">var oVersionInfo = sap.ui.getVersionInfo();</pre></div></div></section>
						</td>
						<td colspan="1" rowspan="1">
							<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.require(['sap/ui/core/VersionInfo'], function(VersionInfo){

    VersionInfo.load({ 

        ...

    }).then(function(oVersionInfo) { ... });
});</pre></div></div></section>
						</td>
					</tr>
				</tbody>
			</table></div></div><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="hidden relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig"></ul></section></div></section></div></body></html>